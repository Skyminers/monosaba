# 魔法少女的魔女审判 - 文本框生成器

<div align="center">

一个基于 Tauri v2 和 React 构建的桌面端文本框表情包生成工具

[功能特性](#功能特性) • [技术栈](#技术栈) • [快速开始](#快速开始) • [使用指南](#使用指南) • [许可证](#许可证)

</div>

## 简介

![ema.image](/images/ema.png)

这是一款专为《魔法少女的魔女审判》设计的桌面应用。让你能够轻松创建带有角色立绘和自定义文本的表情包图片。通过直观的界面，你可以选择不同的角色、表情、背景，并添加个性化文本，一键导出高质量图片。

本项目是基于 [manosaba_text_box](https://github.com/oplivilqo/manosaba_text_box?tab=readme-ov-file) 的二次开发。

## 功能特性

### 核心功能

跨平台客户端，无需安装无需导入，点击即可运行。

并保留了原有功能：
- **全角色支持** - 14 位魔女全部支持
- **丰富表情** - 每个角色拥有多种表情状态可供选择
- **背景定制** - 多种背景图片选择，支持多种缩放模式
- **文本编辑** - 自由输入文本内容，支持自动换行
- **文本高亮** - 使用 `【】` 符号包裹文本实现高亮效果
- **字体系统** - 支持多种字体选择和字号调节（32px - 256px）
- **实时预览** - 所见即所得的 Canvas 实时渲染
- **一键导出** - 快速下载生成的图片

## 技术栈

### 前端

- **框架**: React 19.1.0
- **语言**: TypeScript 5.8.3
- **构建工具**: Vite 7.0.4
- **图形渲染**: Canvas API

### 桌面端

- **框架**: Tauri v2
- **运行时**: Rust
- **跨平台**: 支持 Windows、macOS、Linux

### 依赖

- `@tauri-apps/api` - Tauri JavaScript API
- `@tauri-apps/plugin-opener` - 系统资源打开插件
- `serde` & `serde_yaml` - 配置文件序列化
- `anyhow` - Rust 错误处理

## 快速开始

### 直接安装

右转 Release 直接下载！

### 从源码构建

在开始之前，请确保你的系统已安装以下工具：

- **Node.js** >= 18.0.0
- **npm** (随 Node.js 一起安装)
- **Rust** >= 1.70.0 ([安装指南](https://www.rust-lang.org/tools/install))
- **系统依赖** (根据你的操作系统):
  - **macOS**: 需要 Xcode Command Line Tools
  - **Linux**: 需要 `webkit2gtk`、`libssl-dev` 等依赖
  - **Windows**: 需要 Microsoft Visual Studio C++ Build Tools

1. **克隆仓库**

```bash
git clone https://github.com/yourusername/manosaba.git
cd manosaba
```

2. **安装依赖**

```bash
npm install
```

3. **启动开发模式**

```bash
npm run tauri dev
```

应用将会自动打开，你可以立即开始使用！

## 使用指南

### 基本使用流程

1. **选择角色** - 在左侧栏点击你喜欢的角色头像
2. **选择表情** - 点击表情编号切换角色的不同表情
3. **选择背景** - 从背景缩略图中选择合适的背景
4. **调整背景缩放** - 从下拉菜单选择背景的缩放模式：
   - 撑满画布
   - 横向拉伸
   - 纵向拉伸
   - 水平缩放
   - 垂直缩放
   - 原始尺寸
5. **选择字体** - 从字体列表中选择你想要的字体样式
6. **调整字号** - 使用滑块调节文本大小（32-256px）
7. **输入文本** - 在文本框中输入你想显示的内容
8. **启用高亮**（可选）- 勾选后，使用 `【文本】` 可以让文本高亮显示
9. **下载图片** - 点击"下载图片"按钮保存你的作品

### 高级技巧

**文本高亮示例：**
```
这是普通文本，【这是高亮文本】，继续普通文本
```

**多行文本：**
- 直接在文本框中换行即可
- 系统会自动处理文本换行和排版

## 许可证

本项目仅供学习和个人使用。角色、背景等游戏资源版权归原作者所有。

---

## 贡献

欢迎提交 Issue 和 Pull Request！

如果你有任何建议或发现了 Bug，请在 [Issues](https://github.com/Skyminers/manosaba/issues) 中告诉我们。
